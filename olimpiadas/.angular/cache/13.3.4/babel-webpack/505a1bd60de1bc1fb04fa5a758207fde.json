{"ast":null,"code":"import { Validators } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../_services/entrenador.service\";\nimport * as i2 from \"@angular/forms\";\nimport * as i3 from \"@angular/common\";\n\nfunction EntrenadorComponent_tr_35_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r3 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\", 12);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\", 12);\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\", 12);\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"td\", 12);\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"td\", 12);\n    i0.ɵɵtext(10);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"td\")(12, \"div\")(13, \"button\", 14);\n    i0.ɵɵlistener(\"click\", function EntrenadorComponent_tr_35_Template_button_click_13_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r3);\n      const entrenador_r1 = restoredCtx.$implicit;\n      const ctx_r2 = i0.ɵɵnextContext();\n      return ctx_r2.updateEntrenador(entrenador_r1);\n    });\n    i0.ɵɵtext(14, \"Editar \");\n    i0.ɵɵelement(15, \"i\", 15);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(16, \" \\u00A0\\u00A0 \");\n    i0.ɵɵelementStart(17, \"button\", 16);\n    i0.ɵɵlistener(\"click\", function EntrenadorComponent_tr_35_Template_button_click_17_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r3);\n      const entrenador_r1 = restoredCtx.$implicit;\n      const ctx_r4 = i0.ɵɵnextContext();\n      return ctx_r4.deleteEntrenador(entrenador_r1.id);\n    });\n    i0.ɵɵtext(18, \"Eliminar \");\n    i0.ɵɵelement(19, \"i\", 17);\n    i0.ɵɵelementEnd()()()();\n  }\n\n  if (rf & 2) {\n    const entrenador_r1 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(entrenador_r1.nombre);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(entrenador_r1.ApellidoPaterno);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(entrenador_r1.ApellidoMaterno);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(entrenador_r1.Email);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(entrenador_r1.entrenador);\n  }\n}\n\nexport let EntrenadorComponent = /*#__PURE__*/(() => {\n  class EntrenadorComponent {\n    constructor(entreandorService, formBuilder) {\n      this.entreandorService = entreandorService;\n      this.formBuilder = formBuilder;\n      this.submitted = false;\n    }\n\n    ngOnInit() {\n      this.entrenadorForm = this.formBuilder.group({\n        id: [''],\n        nombre: [''],\n        apellidop: [''],\n        apellidom: [''],\n        disciplina: ['', Validators.required]\n      });\n    } // Cosultar lista de competidores de misma disciplina\n\n    /*getcompetidores(disciplina){\r\n      this.competidores: any[]=['','','','','']\r\n      this.competidorService.getCompetidores().subscribe(\r\n        res => {\r\n          this.competidores = res;\r\n          console.log(this.competidores)\r\n        },\r\n        err => console.error(err)\r\n      )\r\n    }\r\n    // agregar competidor\r\n    onSubmit(){\r\n      this.submitted = true;\r\n          if(this.competidorForm.invalid){\r\n        console.log(\"Formulario inválido\");\r\n        return;\r\n      }\r\n          if(this.modalTitle == \"Registrar\"){\r\n        this.competidorService.createcompetidor(this.competidorForm.value).subscribe(\r\n          res => {\r\n            Swal.fire({\r\n              position: 'top-end',\r\n              icon: 'success',\r\n              title: 'El competidor se ha añadido correctamente',\r\n              showConfirmButton: false,\r\n              timer: 1500\r\n            })\r\n            $(\"#competidorModal\").modal(\"hide\");\r\n            this.getcompetidores();\r\n            this.submitted = false;\r\n          },\r\n          err => console.error(err)\r\n        )\r\n      }else{\r\n        console.log(this.competidorForm.value);\r\n        this.competidorService.updateCompetidor(this.competidorForm.value).subscribe(\r\n          res => {\r\n            Swal.fire({\r\n              position: 'top-end',\r\n              icon: 'success',\r\n              title: 'El competidor ha sido actualizado',\r\n              showConfirmButton: false,\r\n              timer: 1500\r\n            })\r\n            $(\"#competidorModal\").modal(\"hide\");\r\n            this.getcompetidores();\r\n            this.submitted = false;\r\n          },\r\n          err => {\r\n            console.error(err);\r\n            Swal.fire({\r\n              icon: 'error',\r\n              title: 'Oops...',\r\n              text: 'Error al conectar con el servidor'\r\n            })\r\n          }\r\n        )\r\n      }\r\n    }\r\n          // Eliminar una competidor\r\n      deleteCompetidor(idCompetidor){\r\n        Swal.fire({\r\n          title: 'Eliminar Competidor',\r\n          text: '¿Estás seguro de eliminar al competidor?',\r\n          showDenyButton: false,\r\n          showCancelButton: true,\r\n          confirmButtonText: 'Eliminar',\r\n          denyButtonText: 'No eliminar',\r\n        }).then((result) => {\r\n          if(result.isConfirmed){\r\n            this.competidorService.deleteCompetidor(idCompetidor).subscribe(\r\n              res => {\r\n                Swal.fire(\r\n                  'Eliminado!',\r\n                  'El competidor ha sido eliminada',\r\n                  'success'\r\n                )\r\n                $(\"#competidorModal\").modal(\"hide\");\r\n                this.getcompetidores();\r\n              },\r\n              err => console.error(err)\r\n            )\r\n          }\r\n        });\r\n      }\r\n      //actualizar un competidor\r\n      updateCompetidor(competidor: Competidor){\r\n        this.submitted = true;\r\n        this.competidorForm.controls['idCompetidores'].setValue(competidor.id);\r\n        this.competidorForm.controls['nombre'].setValue(competidor.nombre);\r\n        this.competidorForm.controls['apellidop'].setValue(competidor.apellidop);\r\n        this.competidorForm.controls['apellidom'].setValue(competidor.apellidom);\r\n        this.competidorForm.controls['competencia'].setValue(competidor.competencia)\r\n        //no se cambia el valor de id del entrenador.\r\n    \r\n        this.modalTitle = \"Actualizar\";\r\n        $(\"#entreandorModal\").modal(\"show\");\r\n      }\r\n      get f() { return this.entrenadorForm.controls; }*/\n\n\n    openModalEntrenador() {\n      this.entrenadorForm.reset();\n      this.modalTitle = \"Registrar\";\n      $(\"#disciplinaModal\").modal(\"show\");\n    }\n\n  }\n\n  EntrenadorComponent.ɵfac = function EntrenadorComponent_Factory(t) {\n    return new (t || EntrenadorComponent)(i0.ɵɵdirectiveInject(i1.EntrenadorService), i0.ɵɵdirectiveInject(i2.FormBuilder));\n  };\n\n  EntrenadorComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: EntrenadorComponent,\n    selectors: [[\"app-entrenador\"]],\n    decls: 36,\n    vars: 1,\n    consts: [[\"lang\", \"en\"], [\"charset\", \"utf-8\"], [\"name\", \"viewport\", \"content\", \"width=device-width, initial-scale=1\"], [\"href\", \"https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css\", \"rel\", \"stylesheet\", \"integrity\", \"sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3\", \"crossorigin\", \"anonymous\"], [1, \"container-fluid\"], [1, \"card\", \"mb-3\"], [1, \"card-header\"], [1, \"fas\", \"fa-newspaper\"], [\"type\", \"button\", 1, \"btn\", \"btn-outline-info\", \"btn-sm\", 2, \"float\", \"right\", 3, \"click\"], [1, \"card-body\"], [1, \"table\"], [1, \"thead-dark\"], [1, \"text-center\"], [4, \"ngFor\", \"ngForOf\"], [\"type\", \"button\", 1, \"btn\", \"btn-outline-primary\", 3, \"click\"], [1, \"fas\", \"fa-edit\"], [\"type\", \"button\", 1, \"btn\", \"btn-outline-danger\", 3, \"click\"], [1, \"fas\", \"fa-trash\"]],\n    template: function EntrenadorComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"html\", 0)(1, \"head\");\n        i0.ɵɵelement(2, \"meta\", 1)(3, \"meta\", 2)(4, \"link\", 3);\n        i0.ɵɵelementStart(5, \"title\");\n        i0.ɵɵtext(6, \"Entrenadores\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(7, \"body\")(8, \"div\", 4)(9, \"div\", 5)(10, \"div\", 6)(11, \"h3\");\n        i0.ɵɵelement(12, \"i\", 7);\n        i0.ɵɵtext(13, \"\\u00A0\\u00A0Entreandores\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(14, \"button\", 8);\n        i0.ɵɵlistener(\"click\", function EntrenadorComponent_Template_button_click_14_listener() {\n          return ctx.openModalEntrenador();\n        });\n        i0.ɵɵtext(15, \"Agregar Entrenador\");\n        i0.ɵɵelement(16, \"i\", 7);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(17, \"div\", 9)(18, \"table\", 10)(19, \"thead\", 11)(20, \"tr\")(21, \"th\", 12);\n        i0.ɵɵtext(22, \"Nombre\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(23, \"th\", 12);\n        i0.ɵɵtext(24, \"Apellido Paterno\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(25, \"th\", 12);\n        i0.ɵɵtext(26, \"Apellido Materno\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(27, \"th\", 12);\n        i0.ɵɵtext(28, \"E-mail\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(29, \"th\", 12);\n        i0.ɵɵtext(30, \"Disciplina\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(31, \"th\", 12);\n        i0.ɵɵtext(32, \"Acciones\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(33, \"th\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(34, \"tbody\");\n        i0.ɵɵtemplate(35, EntrenadorComponent_tr_35_Template, 20, 5, \"tr\", 13);\n        i0.ɵɵelementEnd()()()()()()();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(35);\n        i0.ɵɵproperty(\"ngForOf\", ctx.entrenadores);\n      }\n    },\n    directives: [i3.NgForOf],\n    styles: [\"(()[_ngcontent-%COMP%]   =[_ngcontent-%COMP%] >  {// webpackBootstrap \\\"use strict\\\";})()[_ngcontent-%COMP%] ;{%BLOCK%}\"]\n  });\n  return EntrenadorComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}